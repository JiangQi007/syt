<template>
  <div>
    <div class="hospital">
      <!-- left is navigator -->
      <div class="menu">
        <!-- path tip -->
        <div class="top">
          <svg
            t="1715011922903"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="10353"
            width="16"
            height="16">
            <path
              d="M765.5168 538.88a31.488 31.488 0 0 0-31.5136 31.5136v211.072l0.0768 0.8448c0.0768 1.2032 0.256 2.3552 0.5632 3.584a14.2592 14.2592 0 0 1-0.512 5.0944l-0.256 0.0768a29.952 29.952 0 0 1-7.3728 0.768l-134.0416-0.0256-0.8448-142.08c2.176-17.9968-1.024-38.9632-14.4896-55.168-10.0864-12.1088-25.1904-19.8144-45.2864-19.8144h-54.7072c-20.0704 0-35.2 7.68-45.2864 19.8144l-3.1488 4.0448c-10.8032 15.2064-13.2864 34.0224-11.2896 51.8656l-0.896 140.9024h-134.4768c-4.864 0-7.9616-0.768-8.0384-0.8192 0.2048 0.1792-0.256-3.2256 0.0256-5.3248a14.2336 14.2336 0 0 0 0.4608-3.2l0.0512-2.2016v-208.9984a31.488 31.488 0 0 0-31.5136-31.488 31.488 31.488 0 0 0-31.5136 31.488V773.12c-2.6112 16.896 0.6912 37.248 14.0288 53.4016 11.8272 14.464 30.208 23.3984 56.064 23.3984h165.4784c15.2832 0 31.5136-12.2368 31.5136-22.528l0.896-176.1024-0.0512-4.6336a14.72 14.72 0 0 0-0.7168-4.736l0.2048-4.1472h48.6656c0.2048 1.9456 0.2816 4.0192 0.128 5.5296l-0.2048 0.512c-0.256 0.896-0.256 2.8928-0.256 13.1328l0.8704 170.4704c0 10.2656 16.256 22.528 31.5136 22.528h165.504c25.5488 0 43.6736-8.96 55.9872-23.3472 13.4144-16.2304 16.7168-36.5824 14.0288-54.4256l1.8688-201.728a31.488 31.488 0 0 0-31.5136-31.5648z"
              fill="#2c2c2c"
              p-id="10354"></path>
            <path
              d="M510.4896 171.5712c-31.9488-0.896-62.336 12.5952-89.856 39.808l-18.7904 19.6352L129.5104 519.2192c-11.9296 12.5184-11.4176 32.6144 0.896 44.928 4.8384 4.864 11.2896 7.7056 18.432 8.448l4.48 0.1536c7.2192 0 14.1824-2.7904 19.712-7.68l2.4832-2.4576 285.184-302.208c16.4352-17.28 32.3328-25.7536 46.7456-25.344 9.2672 0.1536 18.2528 3.7888 26.7008 9.8048 2.9184 2.0736 5.5552 4.3008 7.936 6.6048l1.92 1.8944 2.6112 2.688 285.5168 306.5856c6.4 6.4 14.7456 10.112 23.0912 10.112 8.1408 0 15.9744-2.9952 21.5552-8.6016 12.7232-12.16 13.7472-31.8208 1.9968-44.7232L593.9456 213.0688a134.8352 134.8352 0 0 0-26.368-22.4c-15.2832-10.0352-32.0256-16.64-50.1504-18.5856l-6.912-0.512z"
              fill="#2c2c2c"
              p-id="10355"></path>
          </svg>
          <span>/医院信息</span>
        </div>
        <!-- nav menu -->
        <el-menu :default-active="$route.path" class="el-menu-vertical-demo">
          <el-menu-item
            index="/hospital/register"
            @click="changeActive('/hospital/register')">
            <svg
              t="1715011222486"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="4489"
              width="20"
              height="20">
              <path
                d="M651.636364 139.636364 372.363636 139.636364l0 46.545455 279.272727 0L651.636364 139.636364zM884.363636 139.636364l-69.818182 0 0 46.545455L884.363636 186.181818c25.693091 0 46.545455 20.852364 46.545455 46.545455l0 93.090909L93.090909 325.818182 93.090909 232.727273c0-25.693091 20.852364-46.545455 46.545455-46.545455l69.818182 0L209.454545 139.636364 139.636364 139.636364C88.203636 139.636364 46.545455 181.341091 46.545455 232.727273l0 628.363636c0 51.432727 41.658182 93.090909 93.090909 93.090909l744.727273 0c51.432727 0 93.090909-41.704727 93.090909-93.090909L977.454545 232.727273C977.454545 181.341091 935.796364 139.636364 884.363636 139.636364zM930.909091 861.090909c0 25.693091-20.852364 46.545455-46.545455 46.545455L139.636364 907.636364c-25.693091 0-46.545455-20.852364-46.545455-46.545455L93.090909 372.363636l837.818182 0L930.909091 861.090909zM290.909091 232.727273C310.178909 232.727273 325.818182 217.088 325.818182 197.818182l0-69.818182C325.818182 108.730182 310.178909 93.090909 290.909091 93.090909S256 108.730182 256 128l0 69.818182C256 217.088 271.639273 232.727273 290.909091 232.727273zM733.090909 232.727273c19.269818 0 34.909091-15.639273 34.909091-34.909091l0-69.818182C768 108.730182 752.360727 93.090909 733.090909 93.090909S698.181818 108.730182 698.181818 128l0 69.818182C698.181818 217.088 713.821091 232.727273 733.090909 232.727273zM267.636364 605.090909C299.752727 605.090909 325.818182 579.025455 325.818182 546.909091c0-32.162909-26.065455-58.181818-58.181818-58.181818-32.116364 0-58.181818 26.065455-58.181818 58.181818C209.454545 579.025455 235.52 605.090909 267.636364 605.090909zM500.363636 605.090909c32.116364 0 58.181818-26.065455 58.181818-58.181818 0-32.162909-26.065455-58.181818-58.181818-58.181818-32.116364 0-58.181818 26.065455-58.181818 58.181818C442.181818 579.025455 468.247273 605.090909 500.363636 605.090909zM733.090909 605.090909c32.116364 0 58.181818-26.065455 58.181818-58.181818 0-32.162909-26.065455-58.181818-58.181818-58.181818-32.116364 0-58.181818 26.065455-58.181818 58.181818C674.909091 579.025455 700.974545 605.090909 733.090909 605.090909zM267.636364 791.272727C299.752727 791.272727 325.818182 765.207273 325.818182 733.090909S299.752727 674.909091 267.636364 674.909091c-32.116364 0-58.181818 26.065455-58.181818 58.181818S235.52 791.272727 267.636364 791.272727zM500.363636 791.272727c32.116364 0 58.181818-26.065455 58.181818-58.181818s-26.065455-58.181818-58.181818-58.181818c-32.116364 0-58.181818 26.065455-58.181818 58.181818S468.247273 791.272727 500.363636 791.272727z"
                fill="#2c2c2c"
                p-id="4490"></path>
            </svg>
            <span style="margin-left: 5px">预约挂号</span>
          </el-menu-item>
          <el-menu-item
            index="/hospital/detail"
            @click="changeActive('/hospital/detail')">
            <svg
              t="1715011377823"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="5810"
              width="20"
              height="20">
              <path
                d="M298.666667 341.333333h384v42.666667H298.666667v-42.666667z m0 128h298.666666v42.666667H298.666667v-42.666667z m0 128h298.666666v42.666667H298.666667v-42.666667zM170.666667 128h682.666666v554.666667h42.666667V106.517333c0-11.52-9.557333-21.184-21.333333-21.184H149.333333c-11.626667 0-21.333333 9.557333-21.333333 21.376v810.581334C128 929.066667 137.557333 938.666667 149.333333 938.666667h490.666667v-42.666667H170.666667V128z m469.333333 576.042667c0-11.797333 9.728-21.376 21.376-21.376H896L640 938.666667V704.042667z m153.002667 21.290666H682.666667v110.336L793.002667 725.333333z"
                fill="#2c2c2c"
                p-id="5811"></path>
            </svg>
            <span style="margin-left: 5px">医院详情</span>
          </el-menu-item>
          <el-menu-item
            index="/hospital/notice"
            @click="changeActive('/hospital/notice')">
            <svg
              t="1715011449312"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="7020"
              width="20"
              height="20">
              <path
                d="M889.828994 749.637494c-1.204099-1.548127-119.205779-166.165631-119.205779-287.435579 0-168.401814-76.202251-254.752898-162.725349-286.919536L607.897867 159.973123c0-52.980346-43.175542-95.983874-95.983874-95.983874S415.930119 107.164791 415.930119 159.973123l0 16.685369c-10.836889 7.912649-16.169326 21.845792-11.868974 35.262893 5.332437 16.857383 23.393919 25.974131 40.251302 20.641693 17.717453-5.676466 36.983034-8.428691 56.936671-8.428691l21.32975 0c115.249454 0 184.055098 89.103309 184.055098 238.239543 0 108.024861 72.933983 235.315303 110.261045 293.456073-57.452713 26.146145-183.023014 76.202251-304.809004 76.202251-121.441962 0-247.356291-50.400134-304.809004-76.546279 37.327062-57.968755 110.089031-184.915169 110.089031-293.112044 0-62.441122 11.524945-114.217369 34.574836-153.952629 8.77272-15.309256 3.612296-34.918864-11.69696-43.691584-15.48127-8.944734-34.918864-3.612296-43.691584 11.69696-28.554342 49.540064-43.175542 112.1532-43.175542 185.947253 0 121.269948-118.00168 285.199395-119.205779 286.919536-5.332437 7.568621-7.396607 16.857383-5.332437 25.974131 2.064169 8.944734 7.912649 16.685369 15.997312 20.985721 5.676466 3.096254 107.336805 57.280699 233.423148 84.458928 21.32975 66.397447 73.966068 111.29313 133.654964 111.29313s112.325214-44.895683 133.654964-111.29313c126.086343-27.178229 227.746682-81.018646 233.423148-83.942886 8.084663-4.472367 13.933143-12.040988 16.169326-20.985721C897.225601 766.666891 895.333445 757.206115 889.828994 749.637494zM501.249118 159.973123c-7.224593 0-14.277171 1.032085-21.32975 1.548127L479.919368 159.973123c0-17.545439 14.449185-31.994625 31.994625-31.994625 17.545439 0 31.994625 14.449185 31.994625 31.994625l0 0.860071c-7.224593-0.516042-14.277171-0.860071-21.32975-0.860071L501.249118 159.973123zM511.913993 928.016126c-22.361834 0-43.175542-13.417101-57.968755-35.262893 19.26558 2.064169 38.531161 3.268268 57.968755 3.268268s38.875189-1.376113 57.968755-3.268268C555.089535 914.599026 534.275827 928.016126 511.913993 928.016126z"
                fill="#2c2c2c"
                p-id="7021"></path>
            </svg>
            <span style="margin-left: 5px">预约通知</span>
          </el-menu-item>
          <el-menu-item
            index="/hospital/close"
            @click="changeActive('/hospital/close')">
            <svg
              t="1715011507256"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="8148"
              width="20"
              height="20">
              <path
                d="M512.50142 958.397886c-119.320573 0-231.499491-46.465265-315.871087-130.837884C112.258737 743.188406 65.792449 631.010511 65.792449 511.688915c0-119.319549 46.466288-231.499491 130.837884-315.871087C281.002952 111.445208 393.180847 64.979944 512.50142 64.979944s231.499491 46.465265 315.871087 130.837884c84.372619 84.372619 130.837884 196.551538 130.837884 315.871087 0 119.321596-46.465265 231.499491-130.837884 315.871087C744.000911 911.932622 631.821993 958.397886 512.50142 958.397886zM512.50142 105.962334c-223.718271 0-405.726581 182.00831-405.726581 405.726581s182.00831 405.726581 405.726581 405.726581c223.718271 0 405.727605-182.00831 405.727605-405.726581S736.220714 105.962334 512.50142 105.962334z"
                fill="#2c2c2c"
                p-id="8149"></path>
              <path
                d="M510.150886 775.953647c-18.107403 0-32.745798-14.678304-32.745798-32.785707L477.405087 452.191846c0-18.108426 14.638395-32.785707 32.745798-32.785707 18.107403 0 32.745798 14.678304 32.745798 32.785707l0 290.976094C542.896684 761.275343 528.258289 775.953647 510.150886 775.953647z"
                fill="#2c2c2c"
                p-id="8150"></path>
              <path
                d="M511.357364 296.458969m-45.080731 0a44.054 44.054 0 1 0 90.161463 0 44.054 44.054 0 1 0-90.161463 0Z"
                fill="#2c2c2c"
                p-id="8151"></path>
            </svg>
            <span style="margin-left: 5px">停诊信息</span>
          </el-menu-item>
          <el-menu-item
            index="/hospital/search"
            @click="changeActive('/hospital/search')">
            <svg
              t="1715011561034"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="9241"
              width="20"
              height="20">
              <path
                d="M376.5 70c41.4 0 81.5 8.1 119.3 24.1 36.5 15.4 69.3 37.5 97.4 65.7 28.2 28.2 50.3 61 65.7 97.4 16 37.7 24.1 77.9 24.1 119.3s-8.1 81.5-24.1 119.3c-15.4 36.5-37.5 69.3-65.7 97.4-28.2 28.2-61 50.3-97.4 65.7-37.7 16-77.9 24.1-119.3 24.1s-81.5-8.1-119.3-24.1c-36.5-15.4-69.3-37.5-97.4-65.7s-50.3-61-65.7-97.4C78.1 458 70 417.9 70 376.5s8.1-81.5 24.1-119.3c15.4-36.5 37.5-69.3 65.7-97.4 28.2-28.2 61-50.3 97.4-65.7C295 78.1 335.1 70 376.5 70m0-70C168.6 0 0 168.6 0 376.5S168.6 753 376.5 753 753 584.4 753 376.5 584.4 0 376.5 0z"
                p-id="9242"
                fill="#2c2c2c"></path>
              <path
                d="M274.5 136.1c8.8-8.8 18-17 27.5-24.6-37.3 13.6-72.2 35.3-102.1 65.2-109.7 109.7-109.7 287.7 0 397.4 33.2 33.2 72.6 56.3 114.4 69.4-13.9-10.1-27.2-21.5-39.8-34.1-130.7-130.7-130.7-342.6 0-473.3zM998.3 998.3c-34.2 34.2-90.2 34.2-124.5 0L622.2 746.6c-34.2-34.2-34.2-90.2 0-124.5 34.2-34.2 90.2-34.2 124.5 0l251.7 251.7c34.2 34.3 34.2 90.3-0.1 124.5z"
                p-id="9243"
                fill="#2c2c2c"></path>
            </svg>
            <span style="margin-left: 5px">查询/取消</span>
          </el-menu-item>
        </el-menu>
      </div>

      <!-- right is the content -->
      <div class="content">
        <router-view></router-view>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { useRoute, useRouter } from "vue-router";
import useDetailStore from "../../store/modules/hospitalDetail";
import { onMounted } from "vue";

let $router = useRouter();

let detailStore = useDetailStore();

//get Present path to active the corresponding item
let $route = useRoute();

// click nav items
const changeActive = (path: string) => {
  $router.push({ path, query: { hoscode: $route.query.hoscode } });
};

//let pinia get hospital data
onMounted(() => {
  // get hospital detail info
  detailStore.getHospital($route.query.hoscode);

  // get hospital department info
  detailStore.getDepartment($route.query.hoscode);
});
</script>

<style scoped lang="scss">
.hospital {
  display: flex;
  .menu {
    flex: 2;
    .top {
      display: flex;
      align-items: center;
      span {
        color: #7f7f7f;
        font-size: 13px;
      }
    }
  }
  .content {
    flex: 8;
  }
}
</style>
